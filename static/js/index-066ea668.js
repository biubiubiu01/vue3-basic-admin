import{_ as F}from"./index-d97fff49.js";import{d as y,r as f,b as C,a0 as O,v as J,c0 as v,bU as U,c6 as k,b3 as S,g,U as j,o as b,c as E,D as I,f as o,w as h,l as K}from"./index-bd68377b.js";import{A as $,r as B,a as L,b as N}from"./key-22843224.js";import{a as R,u as z,e as T}from"./useChartsConfig-7c99cf29.js";import"./el-popper-ec19954e.js";import"./el-col-435232e7.js";const V=y({__name:"base-map",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"400px"},options:{type:Object},type:{type:String,default:"map"},code:{type:Number,default:1e5},mapKey:{type:String,default:$}},setup(M,{expose:c}){const t=M,r=f(null),u=C({geoJsonObj:{},code:t.code});O(()=>{l()});const n=J(()=>{const{width:e,height:a}=t;return{width:v(e)?e:`${e}px`,height:v(a)?a:`${a}px`}}),{setOption:s}=R(r),{getConfig:x}=z(t.type,t.options),d=U(),w=async()=>{try{const{mapKey:e}=t;if(!e){console.error("mapKey\u53C2\u6570\u7F3A\u5931\uFF0C\u65E0\u6CD5\u6B63\u5E38\u6E32\u67D3\u5730\u56FE");return}await B(L+e),await B(N)}catch{console.error("\u52A0\u8F7DAMap\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5AMap\u6216AMapUI\u5730\u5740\u662F\u5426\u6B63\u786E")}},l=async(e=t.code,a)=>{if((!window.AMap||!window.AMapUI)&&await w(),d.open(r.value),u.geoJsonObj[e]&&!k(u.geoJsonObj[a])){u.code=a||e,_();return}S(()=>{window.AMapUI.loadUI(["geo/DistrictExplorer"],D=>{new D().loadAreaNode(e,function(A,p){if(A){d.close();return}let m=(p==null?void 0:p.getSubFeatures())||[];if(m.length===0){const i=p._data.geoData.parent.properties.acroutes;l(i[i.length-1],e);return}a&&(m=m.filter(i=>i.properties.adcode===a)),u.geoJsonObj[a||e]={features:m},T.registerMap("map",u.geoJsonObj[u.code]),u.code=a||e,_()})})},30)},_=()=>{d.close(),s(g(x))};return j(()=>[t.code,t.options],()=>{l()},{deep:!0}),c({getJson:l}),(e,a)=>(b(),E("div",{ref_key:"baeMapRef",ref:r,style:I(g(n))},null,4))}}),q={class:"com-echarts-map-container hidden"},G=y({__name:"index",setup(M){const c=f({series:[{data:[{name:"\u6B66\u6C49",value:[114.31,30.52,10]},{name:"\u4E0A\u6D77",value:[121.48,31.22,20]},{name:"\u5317\u4EAC",value:[116.46,39.92,30]},{name:"\u5E7F\u5DDE",value:[113.23,23.16,40]},{name:"\u676D\u5DDE",value:[120.19,30.26,40]}]}]}),t=f({series:[{data:[{name:"\u5730\u70B91",value:[114.412021,30.481201,1e3]},{name:"\u5730\u70B92",value:[114.411266,30.480921,1e3]},{name:"\u5730\u70B93",value:[114.411985,30.481387,1e3]},{name:"\u5730\u70B94",value:[114.411159,30.481917,1e3]},{name:"\u5730\u70B95",value:[114.412488,30.481917,1e3]},{name:"\u5730\u70B96",value:[114.413638,30.482726,1e3]},{name:"\u5730\u70B97",value:[114.412344,30.48341,1e3]},{name:"\u5730\u70B98",value:[114.413494,30.483939,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B99",value:[114.411877,30.484469,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B910",value:[114.412308,30.484531,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B911",value:[114.407853,30.4845,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B912",value:[114.407242,30.48285,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B913",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B914",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B915",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B916",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B917",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B918",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B919",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B920",value:[114.447306,30.560407,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B921",value:[114.296104,30.600017,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B922",value:[114.29402,30.597406,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B923",value:[114.300487,30.595106,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B924",value:[114.295026,30.592805,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B925",value:[114.291648,30.597282,1e3]},{name:"\u5730\u70B926",value:[114.287408,30.599147,1e3]},{name:"\u5730\u70B927",value:[114.282378,30.598649,1e3]},{name:"\u5730\u70B928",value:[114.286689,30.600514,1e3]}]}]});return(r,u)=>{const n=V,s=F;return b(),E("div",q,[o(s,{title:"\u5206\u5E03\u56FE",class:"dark-bg"},{default:h(()=>[o(n,{height:"600px",type:"map","click-down":""})]),_:1}),o(s,{title:"\u6563\u70B9\u56FE",class:"dark-bg"},{default:h(()=>[o(n,{height:"600px",type:"scatter",options:c.value},null,8,["options"])]),_:1}),o(s,{title:"\u70ED\u529B\u56FE",class:"dark-bg"},{default:h(()=>[o(n,{height:"600px",type:"heatmap",options:t.value},null,8,["options"])]),_:1})])}}});const ee=K(G,[["__scopeId","data-v-7aed4531"]]);export{ee as default};
